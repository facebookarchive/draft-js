(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{144:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return p}));var r=n(2),o=n(6),a=(n(0),n(147)),c={id:"api-reference-data-conversion",title:"Data Conversion"},i={id:"api-reference-data-conversion",title:"Data Conversion",description:"Because a text editor doesn't exist in a vacuum and it's important to save",source:"@site/../docs/APIReference-Data-Conversion.md",permalink:"/docs/api-reference-data-conversion",editUrl:"https://github.com/facebook/draft-js/edit/master/docs/../docs/APIReference-Data-Conversion.md",lastUpdatedBy:"Yangshun Tay",lastUpdatedAt:1576462158,sidebar:"docs",previous:{title:"CompositeDecorator",permalink:"/docs/api-reference-composite-decorator"},next:{title:"RichUtils",permalink:"/docs/api-reference-rich-utils"}},s=[{value:"Functions",id:"functions",children:[{value:"<code>convertFromRaw()</code>",id:"convertfromraw",children:[]},{value:"<code>convertToRaw()</code>",id:"converttoraw",children:[]},{value:"<code>convertFromHTML()</code>",id:"convertfromhtml",children:[]}]}],l={rightToc:s};function p(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Because a text editor doesn't exist in a vacuum and it's important to save\ncontents for storage or transmission, you will want to be able to\nconvert a ",Object(a.b)("inlineCode",{parentName:"p"},"ContentState")," into raw JS, and vice versa."),Object(a.b)("p",null,"To that end, we provide a couple of utility functions that allow you to perform\nthese conversions."),Object(a.b)("p",null,"Note that the Draft library does not currently provide utilities to convert to\nand from markdown or markup, since different clients may have different requirements\nfor these formats. We instead provide JavaScript objects that can be converted\nto other formats as needed."),Object(a.b)("p",null,"The Flow type ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/facebook/draft-js/blob/master/src/model/encoding/RawDraftContentState.js"}),Object(a.b)("inlineCode",{parentName:"a"},"RawDraftContentState")),"\ndenotes the expected structure of the raw format of the contents. The raw state\ncontains a list of content blocks, as well as a map of all relevant entity\nobjects."),Object(a.b)("h2",{id:"functions"},"Functions"),Object(a.b)("h3",{id:"convertfromraw"},Object(a.b)("inlineCode",{parentName:"h3"},"convertFromRaw()")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"convertFromRaw(rawState: RawDraftContentState): ContentState\n")),Object(a.b)("p",null,"Given a raw state, convert it to a ",Object(a.b)("inlineCode",{parentName:"p"},"ContentState"),". This is useful when\nrestoring contents to use within a Draft editor."),Object(a.b)("h3",{id:"converttoraw"},Object(a.b)("inlineCode",{parentName:"h3"},"convertToRaw()")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"convertToRaw(contentState: ContentState): RawDraftContentState\n")),Object(a.b)("p",null,"Given a ",Object(a.b)("inlineCode",{parentName:"p"},"ContentState")," object, convert it to a raw JS structure. This is useful\nwhen saving an editor state for storage, conversion to other formats, or\nother usage within an application."),Object(a.b)("h3",{id:"convertfromhtml"},Object(a.b)("inlineCode",{parentName:"h3"},"convertFromHTML()")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"const sampleMarkup =\n  '<b>Bold text</b>, <i>Italic text</i><br/ ><br />' +\n  '<a href=\"http://www.facebook.com\">Example link</a>';\n\nconst blocksFromHTML = convertFromHTML(sampleMarkup);\nconst state = ContentState.createFromBlockArray(\n  blocksFromHTML.contentBlocks,\n  blocksFromHTML.entityMap,\n);\n\nthis.state = {\n  editorState: EditorState.createWithContent(state),\n};\n")),Object(a.b)("p",null,"Given an HTML fragment, convert it to an object with two keys; one holding the\narray of ",Object(a.b)("inlineCode",{parentName:"p"},"ContentBlock")," objects, and the other holding a reference to the\nentityMap. Construct content state from the array of block elements and the\nentityMap, and then update the editor state with it. Full example available\n",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/facebook/draft-js/tree/master/examples/draft-0-10-0/convertFromHTML"}),"here"),"."))}p.isMDXComponent=!0},147:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),p=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},b=function(e){var t=p(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),b=p(n),d=r,f=b["".concat(c,".").concat(d)]||b[d]||u[d]||a;return n?o.a.createElement(f,i(i({ref:t},l),{},{components:n})):o.a.createElement(f,i({ref:t},l))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,c=new Array(a);c[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,c[1]=i;for(var l=2;l<a;l++)c[l]=n[l];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);