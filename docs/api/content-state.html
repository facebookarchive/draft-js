<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>Draft.js | Rich Text Editor Framework for React</title><meta name="viewport" content="width=device-width"/><meta property="og:title" content="Draft.js | Rich Text Editor Framework for React"/><meta property="og:type" content="website"/><meta property="og:url" content="http://facebook.github.io/draft-js/index.html"/><meta property="og:description" content="Rich Text Editor Framework for React"/><link rel="stylesheet" href="/draft-js/css/draft.css"/><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body><div class="container"><div class="nav-main"><div class="wrap"><a class="nav-home" href="/draft-js/">Draft.js</a><ul class="nav-site"><li><a href="/draft-js/docs/overview.html#content" class="active">docs</a></li><li><a href="http://github.com/facebook/draft-js" class="">github</a></li></ul></div></div><section class="content wrap documentationContent"><div class="nav-docs"><div class="nav-docs-section"><h3>Quick Start</h3><ul><li><a style="margin-left:0;" class="" href="/draft-js/docs/overview.html#content">Getting Started</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/quickstart-api-basics.html#content">API Basics</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/quickstart-rich-styling.html#content">Rich Styling</a></li></ul></div><div class="nav-docs-section"><h3>Advanced Topics</h3><ul><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-entities.html#content">Entities</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-decorators.html#content">Decorators</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-key-bindings.html#content">Key Bindings</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-managing-focus.html#content">Managing Focus</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-block-styling.html#content">Block Styling</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-block-components.html#content">Custom Block Components</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-inline-styles.html#content">Complex Inline Styles</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-nested-lists.html#content">Nested Lists</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-text-direction.html#content">Text Direction</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-issues-and-pitfalls.html#content">Issues and Pitfalls</a></li></ul></div><div class="nav-docs-section"><h3>API Reference</h3><ul><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-editor.html#content">Editor Component</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-editor-state.html#content">EditorState</a></li><li><a style="margin-left:0;" class="active" href="/draft-js/docs/api-reference-content-state.html#content">ContentState</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-content-block.html#content">ContentBlock</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-character-metadata.html#content">CharacterMetadata</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-entity.html#content">Entity</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-selection-state.html#content">SelectionState</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-data-conversion.html#content">Data Conversion</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-modifier.html#content">Modifier</a></li></ul></div></div><div class="inner-content"><a id="content"></a><h1>ContentState</h1><div><p><code>ContentState</code> is an Immutable
<a href="http://facebook.github.io/immutable-js/docs/#/Record/Record" target="_blank">Record</a> that
represents the full state of:</p><ul><li>The entire <strong>contents</strong> of an editor: text, block and inline styles, and entity ranges.</li><li>Two <strong>selection states</strong> of an editor: before and after the rendering of these contents.</li></ul><p>The most common use for the <code>ContentState</code> object is via <code>EditorState.getCurrentContent()</code>,
which provides the <code>ContentState</code> currently being rendered in the editor.</p><p>An <code>EditorState</code> object maintains undo and redo stacks comprised of <code>ContentState</code>
objects.</p><h2><a class="anchor" name="overview"></a>Overview <a class="hash-link" href="#overview">#</a></h2><p><em>Static Methods</em></p><div><ul class="apiIndex">
  <li>
    <a href="#createfromtext">
      <pre>createFromText(text: string)</pre>
    </a>
  </li>
  <li>
    <a href="#createfromblockarray">
      <pre>createFromBlockArray(blocks: Array<ContentBlock>)</pre>
    </a>
  </li>
</ul>

</div><p><em>Methods</em></p><div><ul class="apiIndex">
  <li>
    <a href="#getblockmap">
      <pre>getBlockMap()</pre>
    </a>
  </li>
  <li>
    <a href="#getselectionbefore">
      <pre>getSelectionBefore()</pre>
    </a>
  </li>
  <li>
    <a href="#getselectionafter">
      <pre>getSelectionAfter()</pre>
    </a>
  </li>
  <li>
    <a href="#getblockforkey">
      <pre>getBlockForKey(key)</pre>
    </a>
  </li>
  <li>
    <a href="#getkeybefore">
      <pre>getKeyBefore(key)</pre>
    </a>
  </li>
  <li>
    <a href="#getkeyafter">
      <pre>getKeyAfter(key)</pre>
    </a>
  </li>
  <li>
    <a href="#getblockbefore">
      <pre>getBlockBefore(key)</pre>
    </a>
  </li>
  <li>
    <a href="#getblockafter">
      <pre>getBlockAfter(key)</pre>
    </a>
  </li>
  <li>
    <a href="#getblocksasarray">
      <pre>getBlocksAsArray()</pre>
    </a>
  </li>
  <li>
    <a href="#getlastblock">
      <pre>getLastBlock()</pre>
    </a>
  </li>
  <li>
    <a href="#getplaintext">
      <pre>getPlainText(delimiter)</pre>
    </a>
  </li>
  <li>
    <a href="#hastext">
      <pre>hasText()</pre>
    </a>
  </li>
</ul>

</div><p><em>Properties</em></p><blockquote><p>Use <a href="http://facebook.github.io/immutable-js/docs/#/Record/Record" target="_blank">Immutable Map API</a> to
set properties.</p></blockquote><div><ul class="apiIndex">
  <li>
    <a href="#blockmap">
      <pre>blockMap</pre>
    </a>
  </li>
  <li>
    <a href="#selectionbefore">
      <pre>selectionBefore</pre>
    </a>
  </li>
  <li>
    <a href="#selectionafter">
      <pre>selectionAfter</pre>
    </a>
  </li>
</ul>

</div><h2><a class="anchor" name="static-methods"></a>Static Methods <a class="hash-link" href="#static-methods">#</a></h2><h3><a class="anchor" name="createfromtext"></a>createFromText <a class="hash-link" href="#createfromtext">#</a></h3><pre class="prism language-javascript"><span class="token function">createFromText<span class="token punctuation">(</span></span>text<span class="token punctuation">:</span> string<span class="token punctuation">,</span> delimiter<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> ContentState</pre><p>Generates a <code>ContentState</code> from a string, with a delimiter to split the string
into <code>ContentBlock</code> objects. If no delimiter is provided, &#x27;\n&#x27; is used.</p><h3><a class="anchor" name="createfromblockarray"></a>createFromBlockArray <a class="hash-link" href="#createfromblockarray">#</a></h3><pre class="prism language-javascript"><span class="token function">createFromBlockArray<span class="token punctuation">(</span></span>blocks<span class="token punctuation">:</span> Array&lt;ContentBlock<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ContentState</pre><p>Generates a <code>ContentState</code> from an array of <code>ContentBlock</code> objects. The default
<code>selectionBefore</code> and <code>selectionAfter</code> states have the cursor at the start of
the content.</p><h2><a class="anchor" name="methods"></a>Methods <a class="hash-link" href="#methods">#</a></h2><h3><a class="anchor" name="getblockmap"></a>getBlockMap <a class="hash-link" href="#getblockmap">#</a></h3><pre class="prism language-javascript"><span class="token function">getBlockMap<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> BlockMap</pre><p>Returns the full ordered map of <code>ContentBlock</code> objects representing the state
of an entire document.</p><p>In most cases, you should be able to use the convenience methods below to target
specific <code>ContentBlock</code> objects or obtain information about the state of the content.</p><h3><a class="anchor" name="getselectionbefore"></a>getSelectionBefore <a class="hash-link" href="#getselectionbefore">#</a></h3><pre class="prism language-javascript"><span class="token function">getSelectionBefore<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> SelectionState</pre><p>Returns the <code>SelectionState</code> displayed in the editor before rendering <code>blockMap</code>.</p><p>When performing an <code>undo</code> action in the editor, the <code>selectionBefore</code> of the current
<code>ContentState</code> is used to place the selection range in the appropriate position.</p><h3><a class="anchor" name="getselectionafter"></a>getSelectionAfter <a class="hash-link" href="#getselectionafter">#</a></h3><pre class="prism language-javascript"><span class="token function">getSelectionAfter<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> SelectionState</pre><p>Returns the <code>SelectionState</code> displayed in the editor after rendering <code>blockMap</code>.</p><p>When performing any action in the editor that leads to this <code>blockMap</code> being rendered,
the selection range will be placed in the <code>selectionAfter</code> position.</p><h3><a class="anchor" name="getblockforkey"></a>getBlockForKey <a class="hash-link" href="#getblockforkey">#</a></h3><pre class="prism language-javascript"><span class="token function">getBlockForKey<span class="token punctuation">(</span></span>key<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> ContentBlock</pre><p>Returns the <code>ContentBlock</code> corresponding to the given block key.</p><h4><a class="anchor" name="example"></a>Example <a class="hash-link" href="#example">#</a></h4><pre class="prism language-javascript"><span class="token keyword">var</span> <span class="token punctuation">{</span>editorState<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
<span class="token keyword">var</span> blockKey <span class="token operator">=</span> editorState<span class="token punctuation">.</span><span class="token function">getSelection<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStartKey<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> selectedBlockType <span class="token operator">=</span> editorState
  <span class="token punctuation">.</span><span class="token function">getCurrentContent<span class="token punctuation">(</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">getBlockForKey<span class="token punctuation">(</span></span>startKey<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">getType<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="getkeybefore"></a>getKeyBefore() <a class="hash-link" href="#getkeybefore">#</a></h3><pre class="prism language-javascript"><span class="token function">getKeyBefore<span class="token punctuation">(</span></span>key<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">?</span>string</pre><p>Returns the key before the specified key in <code>blockMap</code>, or null if this is the first key.</p><h3><a class="anchor" name="getkeyafter"></a>getKeyAfter() <a class="hash-link" href="#getkeyafter">#</a></h3><pre class="prism language-javascript"><span class="token function">getKeyAfter<span class="token punctuation">(</span></span>key<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">?</span>string</pre><p>Returns the key after the specified key in <code>blockMap</code>, or null if this is the last key.</p><h3><a class="anchor" name="getblockbefore"></a>getBlockBefore() <a class="hash-link" href="#getblockbefore">#</a></h3><pre class="prism language-javascript"><span class="token function">getBlockBefore<span class="token punctuation">(</span></span>key<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">?</span>ContentBlock</pre><p>Returns the <code>ContentBlock</code> before the specified key in <code>blockMap</code>, or null if this is
the first key.</p><h3><a class="anchor" name="getblockafter"></a>getBlockAfter() <a class="hash-link" href="#getblockafter">#</a></h3><pre class="prism language-javascript"><span class="token function">getBlockAfter<span class="token punctuation">(</span></span>key<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">?</span>ContentBlock</pre><p>Returns the <code>ContentBlock</code> after the specified key in <code>blockMap</code>, or null if this is
the last key.</p><h3><a class="anchor" name="getblocksasarray"></a>getBlocksAsArray() <a class="hash-link" href="#getblocksasarray">#</a></h3><pre class="prism language-javascript"><span class="token function">getBlocksAsArray<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> Array&lt;ContentBlock<span class="token operator">&gt;</span></pre><p>Returns the values of <code>blockMap</code> as an array.</p><h3><a class="anchor" name="getplaintext"></a>getPlainText() <a class="hash-link" href="#getplaintext">#</a></h3><pre class="prism language-javascript"><span class="token function">getPlainText<span class="token punctuation">(</span></span>delimiter<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string</pre><p>Returns the full plaintext value of the contents, joined with a delimiter. If no
delimiter is specified, the line feed character (<code>\u000A</code>) is used.</p><h3><a class="anchor" name="hastext"></a>hasText() <a class="hash-link" href="#hastext">#</a></h3><pre class="prism language-javascript"><span class="token function">hasText<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> boolean</pre><p>Returns whether the contents contain any text at all.</p><h2><a class="anchor" name="properties"></a>Properties <a class="hash-link" href="#properties">#</a></h2><blockquote><p>Use <a href="http://facebook.github.io/immutable-js/docs/#/Record/Record" target="_blank">Immutable Map API</a> to
set properties.</p></blockquote><h3><a class="anchor" name="blockmap"></a>blockMap <a class="hash-link" href="#blockmap">#</a></h3><p>See <code>getBlockMap()</code>.</p><h3><a class="anchor" name="selectionbefore"></a>selectionBefore <a class="hash-link" href="#selectionbefore">#</a></h3><p>See <code>getSelectionBefore()</code>.</p><h3><a class="anchor" name="selectionafter"></a>selectionAfter <a class="hash-link" href="#selectionafter">#</a></h3><p>See <code>getSelectionAfter()</code>.</p></div><div class="docs-prevnext"><a class="docs-next" href="api-reference-content-block.html#content">Next →</a></div></div></section><footer class="wrap"><div class="right">© 2016 Facebook Inc.</div></footer></div><div id="fb-root"></div><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-387204-10', 'facebook.github.io');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
          </script></body></html>